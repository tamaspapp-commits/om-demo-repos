<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-placeholder="pageTitle">OptiMonk Aj√°nlat</title>
    <meta name="description" content="Szem√©lyre szabott konverzi√≥n√∂vel≈ë strat√©gia web√°ruh√°zak sz√°m√°ra.">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary: #FF6B35;
            --color-secondary: #000000;
            --color-dark: #ffffff;
            --color-primary-rgb: 255, 107, 53;
            --color-secondary-rgb: 0, 0, 0;
            --color-dark-rgb: 255, 255, 255;
        }

        /* === H√ÅTT√âR === */
body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            
            /* === JAV√çT√ÅS: A body-ra CSAK a linear-gradient ker√ºl === */
            /* Ez a sz√≠n√°tmenet az oldal tetej√©t≈ël (0%) az alj√°ig (100%) tart √©s G√ñRGETHET≈ê */
            background-image: linear-gradient(
                to bottom, 
                var(--color-dark) -50%, 
                rgba(var(--color-primary-rgb), 0.6) 130%
            );
            background-attachment: scroll; /* Ez g√∂rg≈ëdik az oldallal */
            
            min-height: 100vh;
            color: var(--color-secondary);
            line-height: 1.6;
            overflow-x: hidden;
        }

.gradient-bg {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 400px; /* A hegyek magass√°ga */
            z-index: -1;   /* A tartalom m√∂g√© ker√ºl */
            
            /* Ezen a DIV-en CSAK a hegyek vannak */
            background-image: 
                radial-gradient(ellipse 100% 50% at 50% 0%, rgba(220, 220, 220, 0.3) 0%, transparent 60%),
                radial-gradient(ellipse 90% 40% at 45% 0%, rgba(200, 200, 200, 0.2) 0%, transparent 70%),
                radial-gradient(ellipse 120% 45% at 55% 0%, rgba(200, 200, 200, 0.15) 0%, transparent 80%);
            
            background-repeat: no-repeat;
            background-position: top center; /* Mindh√°romra √©rv√©nyes */
            background-size: 100% 250px, 100% 300px, 100% 350px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .glass-card {
            background: rgba(var(--color-dark-rgb), 0.7); 
            backdrop-filter: blur(20px); 
            border: 1px solid rgba(var(--color-dark-rgb), 0.2); 
            border-radius: 24px;
            padding: 2rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 20px rgba(var(--color-secondary-rgb), 0.05);
        }

        .glass-card:hover {
            transform: translateY(-8px);
            border-color: var(--color-primary);
            box-shadow: 0 20px 60px rgba(var(--color-primary-rgb), 0.2); 
        }
        
        .analysis-section {
            padding-top: 6rem;
            padding-bottom: 2rem;
        }
        
        .analysis-box {
            background: var(--color-dark); 
            border: 1px solid rgba(var(--color-secondary-rgb), 0.1);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(var(--color-secondary-rgb), 0.05);
        }
        
        .analysis-box h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--color-primary);
        }
        
        .analysis-box p, .analysis-box ul {
            font-size: 1.125rem;
            color: rgba(var(--color-secondary-rgb), 0.8);
            line-height: 1.7;
        }
        .analysis-box ul {
            padding-left: 1.5rem;
            margin-top: 1rem;
        }
        
        .analysis-box p strong {
            color: var(--color-secondary);
        }

        .hero {
            min-height: 90vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 6rem 1.5rem 4rem;
            position: relative;
        }

        .hero-content {
            max-width: 900px;
        }

        .badge {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            background: rgba(var(--color-primary-rgb), 0.1);
            border: 1px solid var(--color-primary);
            border-radius: 50px;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: 2rem;
            animation: fadeInDown 0.8s ease-out;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .hero p {
            font-size: 1.25rem;
            color: rgba(var(--color-secondary-rgb), 0.7);
            max-width: 700px;
            margin: 0 auto 3rem;
            animation: fadeInUp 0.8s ease-out 0.4s both;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeInUp 0.8s ease-out 0.6s both;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .btn-primary {
            background: var(--color-primary);
            color: var(--color-dark);
            box-shadow: 0 10px 30px rgba(var(--color-primary-rgb), 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(var(--color-primary-rgb), 0.4);
        }

        .btn-outline {
            background: transparent;
            border-color: rgba(var(--color-secondary-rgb), 0.2);
            color: var(--color-secondary);
        }

        .btn-outline:hover {
            border-color: var(--color-primary);
            background: rgba(var(--color-primary-rgb), 0.1);
        }

        .btn-ghost {
            background: rgba(var(--color-secondary-rgb), 0.1);
            color: var(--color-secondary);
        }

        .btn-ghost:hover {
            background: rgba(var(--color-secondary-rgb), 0.15);
        }

        section {
            padding: 6rem 1.5rem;
            position: relative;
        }

        .section-header {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 4rem;
        }

        .section-label {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: rgba(var(--color-primary-rgb), 0.1);
            border: 1px solid rgba(var(--color-secondary-rgb), 0.1);
            border-radius: 50px;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: 1rem;
        }

        .section-title {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .section-description {
            font-size: 1.125rem;
            color: rgba(var(--color-secondary-rgb), 0.7);
            max-width: 600px;
            margin: 0 auto;
        }

        .logo-cloud-section {
            padding-top: 2rem;
            padding-bottom: 4rem;
        }
        .logo-cloud-header {
            text-align: center;
            font-weight: 600;
            color: rgba(var(--color-secondary-rgb), 0.6);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 2.5rem;
        }
        .logo-cloud-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 3rem;
        }
        .logo-cloud-container img {
            max-height: 40px;
            filter: grayscale(100%);
            opacity: 0.7;
            transition: all 0.3s;
        }
        .logo-cloud-container img:hover {
            filter: grayscale(0%);
            opacity: 1;
        }

        .problems-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }
        .problem-card {
            text-align: center;
            position: relative;
            cursor: pointer; 
        }
        .icon-wrapper {
            width: 4rem;
            height: 4rem;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 16px;
            background: rgba(var(--color-primary-rgb), 0.15);
            position: relative;
        }
        .icon-wrapper::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 16px;
            padding: 2px;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .glass-card:hover .icon-wrapper::before {
            opacity: 1;
        }
        .icon {
            width: 2rem;
            height: 2rem;
            color: var(--color-primary);
        }
        .problem-card h3 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .problem-card p {
            color: rgba(var(--color-secondary-rgb), 0.7);
        }

        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-top: 4rem;
        }
        .solution-card {
            position: relative;
            overflow: hidden;
            cursor: pointer; 
        }
        .solution-card .icon-wrapper {
            margin-bottom: 1.5rem;
        }
        .solution-card h3 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }
        .solution-card p {
            color: rgba(var(--color-secondary-rgb), 0.7);
            font-size: 0.95rem;
        }

        .how-it-works-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }
        .step-card {
            position: relative;
            padding-top: 3.5rem;
        }
        .step-card h3 {
             font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }
        .step-card p {
            color: rgba(var(--color-secondary-rgb), 0.7);
            font-size: 0.95rem;
        }
        .step-number {
            position: absolute;
            top: 1.5rem;
            left: 2rem;
            font-size: 2rem;
            font-weight: 800;
            color: var(--color-primary);
            opacity: 0.5;
        }

        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }
        .testimonial-card p.testimonial-text {
            font-size: 1.125rem;
            font-style: italic;
            margin-bottom: 2rem;
            color: rgba(var(--color-secondary-rgb), 0.8);
            position: relative;
            padding-left: 2rem;
        }
        .testimonial-card p.testimonial-text::before {
            content: '‚Äú';
            position: absolute;
            left: 0;
            top: -0.5rem;
            font-size: 3rem;
            color: var(--color-primary);
            opacity: 0.6;
        }
        .testimonial-author-wrapper {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .testimonial-author-wrapper img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid rgba(var(--color-secondary-rgb), 0.1);
        }
        .testimonial-author-wrapper cite {
            font-weight: 600;
            font-style: normal;
            color: var(--color-secondary);
        }
        .testimonial-author-wrapper cite span {
            display: block;
            font-weight: 400;
            font-size: 0.875rem;
            color: rgba(var(--color-secondary-rgb), 0.7);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }
        .stat-card {
            text-align: center;
        }
        .stat-number {
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            line-height: 1;
        }
        .stat-label {
            color: rgba(var(--color-secondary-rgb), 0.7);
            font-size: 1rem;
        }

        .cta-section {
            text-align: center;
            padding: 8rem 1.5rem;
            position: relative;
        }
        .cta-content {
            max-width: 700px;
            margin: 0 auto;
            padding: 4rem 2rem;
            background: rgba(var(--color-dark-rgb), 0.7);
            border-radius: 32px;
            border: 1px solid rgba(var(--color-dark-rgb), 0.2); 
            backdrop-filter: blur(20px);
        }
        .cta-content h2 {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            margin-bottom: 1rem;
        }
        .cta-content p {
            font-size: 1.125rem;
            color: rgba(var(--color-secondary-rgb), 0.7);
            margin-bottom: 2rem;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .scroll-reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .scroll-reveal.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        .om-campaign {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }
        .om-campaign.active {
            display: flex;
        }
        .om-overlay {
            position: absolute;
            inset: 0;
            background: rgba(var(--color-secondary-rgb), 0.7);
            backdrop-filter: blur(12px);
        }
        .om-popup {
            position: relative;
            background: var(--color-dark);
            border-radius: 24px;
            overflow: hidden;
            width: 90%;
            max-width: 900px;
            box-shadow: 0 25px 50px -12px rgba(var(--color-secondary-rgb), 0.5);
            animation: scaleIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .om-popup-inner {
            display: grid;
            grid-template-columns: 1fr 1fr;
            align-items: center;
            min-height: 500px;
        }
        /* √öJ: Egyoszlopos popup bels≈ë */
        .om-popup-inner-single {
            display: block;
            min-height: auto;
            text-align: center;
        }
        .om-left {
            padding: 3rem 2.5rem;
        }

        /* === K√âP ST√çLUSOK === */
        
        .om-right {
            position: relative; 
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0; 
            height: 100%;
            overflow:hidden;
        }
        
        .om-image-panner {
            width: 100%;
            height: 100%;
            transform: translate(0, 0); 
        }

        .om-product-img {
            width: 100%;
            height: 100%; 
            object-fit: cover; 
            object-position: center center; 
            border-radius: 0; 
            box-shadow: none;
            transition: object-fit 0.3s ease, object-position 0.3s ease;
            user-select: none; 
            -webkit-user-drag: none;
        }
        
        .om-image-panner.is-draggable,
        .om-product-img.is-draggable {
            cursor: grab;
        }
        .om-image-panner.is-dragging,
        .om-product-img.is-dragging {
            cursor: grabbing;
        }
        
        .om-image-controls {
            position: absolute;
            bottom: 1rem; 
            right: 1rem;  
            z-index: 5;
            display: flex; 
            gap: 0.5rem;   
        }

        .om-image-btn {
            background: rgba(0, 0, 0, 0.6);
            color: #ffffff;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            font-size: 16px;
            line-height: 32px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Arial', sans-serif;
            backdrop-filter: blur(5px);
        }

        .om-image-btn:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: scale(1.1);
        }
        
        .om-image-swap-btn:hover {
             transform: scale(1.1) rotate(90deg);
        }
        
        /* === K√âP GOMBOK V√âGE === */

        .om-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1); 
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--color-secondary); 
            font-size: 1.5rem;
            transition: all 0.3s;
            z-index: 10;
        }

        .om-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .om-brand {
            margin-bottom: 1.5rem; 
        }

        .om-brand img {
            max-height: 35px; 
            width: auto;      
        }
        
        .om-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            color: var(--color-secondary);
            line-height: 1.2;
        }
        .om-text {
            font-size: 1.125rem;
            color: rgba(var(--color-secondary-rgb), 0.7);
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        .om-input {
            width: 100%;
            padding: 1rem 1.25rem;
            border: 1px solid rgba(var(--color-secondary-rgb), 0.1);
            border-radius: 12px;
            margin-bottom: 1rem;
            font-size: 1rem;
            background: rgba(var(--color-secondary-rgb), 0.05);
            color: var(--color-secondary);
            transition: all 0.3s;
        }
        .om-input:focus {
            outline: none;
            border-color: var(--color-primary);
            background: rgba(var(--color-secondary-rgb), 0.08);
        }
        .om-button {
            width: 100%;
            padding: 1.125rem 2rem;
            background: var(--color-primary);
            color: var(--color-dark);
            font-weight: 700;
            font-size: 1rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(var(--color-primary-rgb), 0.3);
        }
        .om-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(var(--color-primary-rgb), 0.4);
        }
        .om-logo {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 1.5rem;
            letter-spacing: 0.05em;
        }
        .om-subtitle {
            font-size: 1rem;
            color: rgba(var(--color-secondary-rgb), 0.7);
            margin-bottom: 2rem;
        }
        .om-products {
            background: rgba(var(--color-primary-rgb), 0.1);
            border: 1px solid rgba(var(--color-secondary-rgb), 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .om-product {
            font-size: 0.95rem;
            color: var(--color-secondary);
            margin-bottom: 0.75rem;
            font-weight: 500;
        }
        .om-product:last-child {
            margin-bottom: 0;
        }
        .om-urgency {
            background: rgba(var(--color-primary-rgb), 0.1);
            color: var(--color-secondary);
            border: 1px solid rgba(var(--color-primary-rgb), 0.3);
            padding: 1rem 1.25rem;
            border-radius: 12px;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        /* √öJ: Szerencseker√©k k√©p */
        .om-wheel-img {
            max-width: 250px;
            margin: 0 auto 1.5rem auto;
        }

        /* √öJ: Visszasz√°ml√°l√≥ dem√≥ */
        .om-timer {
            font-size: 3rem;
            font-weight: 800;
            color: var(--color-primary);
            margin-bottom: 1rem;
            padding: 0.5rem 1rem;
            background: rgba(var(--color-primary-rgb), 0.1);
            border-radius: 12px;
            display: inline-block;
        }

.om-nav-btn {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: var(--color-primary);
            border: none;
            cursor: pointer;
            display: none; /* üö© JAV√çT√ÅS: Alapb√≥l legyen rejtett */
            align-items: center;
            justify-content: center;
            z-index: 10001;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(var(--color-secondary-rgb), 0.3);
            opacity: 0.8; 
        }
        .om-nav-btn:hover {
            background: var(--color-primary);
            border-color: var(--color-primary);
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 8px 20px rgba(var(--color-primary-rgb), 0.4);
        }
        .om-nav-btn svg {
            color: var(--color-secondary);
            transition: color 0.3s;
        }
        .om-nav-btn:hover svg {
            color: var(--color-dark);
        }
        .om-nav-prev {
            left: 2rem;
        }
        .om-nav-next {
            right: 2rem;
        }

        @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        @media (max-width: 768px) {
            .om-popup-inner {
                grid-template-columns: 1fr;
            }
            /* √öJ: Az egyoszlopos popupok mobilon is j√≥l n√©znek ki */
            .om-popup-inner-single {
                grid-template-columns: 1fr;
                padding-top: 4rem; /* Hely a bez√°r√≥ gombnak */
            }
            .solutions-grid {
                grid-template-columns: 1fr; 
            }
            .om-right {
                display: none;
            }
            .om-left {
                padding: 2.5rem 1.5rem;
            }
            .om-nav-btn {
                width: 48px;
                height: 48px;
            }
            .om-nav-prev {
                left: 1rem;
            }
            .om-nav-next {
                right: 1rem;
            }
            .logo-cloud-container {
                gap: 2rem;
            }
            .logo-cloud-container img {
                max-height: 30px;
            }
        }
        
        /* === MOD√ÅL ST√çLUSOK (Probl√©ma & Megold√°s) === */
        .om-modal {
            position: fixed;
            inset: 0;
            display: none; 
            align-items: center;
            justify-content: center;
            z-index: 20000; 
        }
        .om-modal.active {
            display: flex;
        }

        .om-modal-overlay {
            position: absolute;
            inset: 0;
            background: rgba(var(--color-secondary-rgb), 0.7);
            backdrop-filter: blur(12px);
        }

        .om-modal-content {
            position: relative;
            background: var(--color-dark);
            border-radius: 24px;
            padding: 3rem;
            width: 90%;
            max-width: 650px; 
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            animation: scaleIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .om-modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 32px;
            height: 32px;
            background: rgba(var(--color-secondary-rgb), 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--color-secondary);
            font-size: 1.25rem;
            transition: all 0.3s;
        }
        .om-modal-close:hover {
            background: rgba(var(--color-secondary-rgb), 0.2);
            transform: rotate(90deg);
        }

        .om-modal-icon {
            width: 3.5rem;
            height: 3.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 16px;
            background: rgba(var(--color-primary-rgb), 0.15);
        }
        .om-modal-icon .icon {
            width: 1.75rem;
            height: 1.75rem;
            color: var(--color-primary);
        }

        .om-modal-content h2 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--color-secondary);
        }

        .om-modal-body {
            font-size: 1rem;
            line-height: 1.7;
            color: rgba(var(--color-secondary-rgb), 0.7);
        }
        
        .om-modal-body h3 {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .om-modal-body p {
            margin-bottom: 1rem;
        }

/* === üö© JAV√çTOTT: SZERENCSEKER√âK ST√çLUSOK (Teljesen feh√©r) === */
        
        .om-wheel-img { 
            display: none; 
        }

        .om-spin-wheel-popup {
            max-width: 900px;
            background: var(--color-dark); /* JAV√çTVA: Vissza√°ll√≠tva feh√©rre */
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); /* JAV√çTVA: Vissza√°ll√≠tva az √°rny√©k */
            color: var(--color-secondary);
        }

        .om-spin-wheel-inner {
            display: grid;
            grid-template-columns: 1fr 1fr; 
            min-height: 550px;
            align-items: center;
        }

        /* Bal oldal (Ker√©k) */
        .om-spin-wheel-left {
            display: flex;
            align-items: center;
            justify-content: left;
            margin-left: -7rem;
            background: var(--color-dark); /* JAV√çTVA: Feh√©r h√°tt√©r */
            height: 100%;
            border-radius: 24px 0 0 24px;
            position: relative; 
            z-index: 1;
        }
        
        .css-wheel-container {
            position: relative; /* JAV√çTVA: Vissza√°ll√≠tva relat√≠vra */
            /* T√∂r√∂lve az abszol√∫t pozicion√°l√°s */
            transform: none; 
            
            width: 550px; /* Vissza√°ll√≠tva kisebbre */
            height: 550px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3; 
        }

        .wheel-pointer {
            position: absolute;
            top: -10px; 
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 30px solid var(--color-primary); 
            z-index: 5;
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5));
        }
        
        .css-wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 10px solid var(--color-secondary); /* JAV√çTVA: Fekete keret (j√≥l l√°tszik feh√©ren) */
            background: conic-gradient(
                var(--color-primary) 0deg 45deg,
                var(--color-secondary) 45deg 90deg,
                var(--color-primary) 90deg 135deg,
                var(--color-secondary) 135deg 180deg,
                var(--color-primary) 180deg 225deg,
                var(--color-secondary) 225deg 270deg,
                var(--color-primary) 270deg 315deg,
                var(--color-secondary) 315deg 360deg
            );
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            z-index: 4;
        }

        .wheel-inner-circle {
            position: absolute;
            width: 60px;
            height: 60px;
            background: var(--color-dark); 
            border-radius: 50%;
            border: 5px solid var(--color-secondary); 
            z-index: 5;
        }

        /* Jobb oldal (Sz√∂veg) */
        .om-spin-wheel-right {
            background: transparent; /* JAV√çTVA: A h√°tt√©r m√°r a popup√© */
            height: 100%;
            padding: 3rem 2.5rem;
            text-align: left;
            border-radius: 0; /* JAV√çTVA */
            z-index: 2; 
            box-shadow: none; /* JAV√çTVA */
        }
        
        .om-spin-wheel-right .om-brand {
            margin-bottom: 1.5rem;
        }

        .om-spin-wheel-right .om-title {
            font-size: clamp(2rem, 4vw, 2.75rem); 
            margin-bottom: 1.5rem;
            line-height: 1.2;
            color: var(--color-secondary); 
        }

        .om-spin-wheel-right .om-text {
            font-size: 1rem;
            margin-bottom: 2rem;
            color: rgba(var(--color-secondary-rgb), 0.8);
        }

        .om-spin-wheel-input {
            background: rgba(var(--color-secondary-rgb), 0.05); 
            border-color: rgba(var(--color-secondary-rgb), 0.1);
            color: var(--color-secondary);
        }
        .om-spin-wheel-input:focus {
            border-color: var(--color-primary);
        }

        .om-spin-wheel-button {
             margin-bottom: 1.5rem;
        }

        .om-secondary-button {
            display: block;
            width: 100%;
            padding: 0.8rem 1.5rem;
            background: transparent;
            color: rgba(var(--color-secondary-rgb), 0.7);
            border: none;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: color 0.3s;
            text-align: center;
        }
        .om-secondary-button:hover {
            color: var(--color-primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .om-spin-wheel-popup {
                background: var(--color-dark);
                box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); 
            }
            .om-spin-wheel-inner {
                grid-template-columns: 1fr; 
                min-height: auto;
            }
            .om-spin-wheel-left {
                height: 350px; 
                padding: 3rem 1.5rem;
                background: var(--color-dark); /* JAV√çTVA: Feh√©r h√°tt√©r */
                border-radius: 0;
            }
            .css-wheel-container {
                position: relative; 
                transform: none; 
                width: 300px;
                height: 300px;
            }
            .om-spin-wheel-right {
                padding: 2.5rem 1.5rem;
                text-align: center; 
                box-shadow: none; 
                background: var(--color-dark);
                border-radius: 0;
            }
            .om-spin-wheel-right .om-brand {
                 margin: 0 auto 1.5rem auto; 
            }
        }

        /* A "Nem k√©rem" gomb st√≠lusa */
        .om-secondary-button {
            display: block;
            width: 100%;
            padding: 0.8rem 1.5rem;
            background: transparent;
            color: rgba(var(--color-secondary-rgb), 0.7);
            border: none;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: color 0.3s;
            text-align: center;
        }
        .om-secondary-button:hover {
            color: var(--color-primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .om-spin-wheel-popup {
                background: var(--color-dark); /* Mobilon a teljes popup feh√©r */
                box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); /* Visszaadjuk az √°rny√©kot */
            }
            .om-spin-wheel-inner {
                grid-template-columns: 1fr; /* Egy oszlop mobilon */
                min-height: auto;
            }
            .om-spin-wheel-left {
                height: 350px; 
                padding: 3rem 1.5rem;
                background: var(--color-secondary); /* Mobilon is s√∂t√©t a ker√©k h√°ttere */
                border-radius: 0;
            }
            .css-wheel-container {
                position: relative; /* Vissza√°ll√≠tjuk relat√≠vra */
                transform: translate(0, 0); /* Kikapcsoljuk az eltol√°st */
                width: 300px;
                height: 300px;
            }
            .om-spin-wheel-right {
                padding: 2.5rem 1.5rem;
                text-align: center; 
                box-shadow: none; /* Mobilon nincs √°rny√©k a jobb oldalon */
                background: var(--color-dark);
                border-radius: 0;
            }
            .om-spin-wheel-right .om-brand {
                 margin: 0 auto 1.5rem auto; 
            }
        }

        /* A "Nem k√©rem" gomb st√≠lusa */
        .om-secondary-button {
            display: block;
            width: 100%;
            padding: 0.8rem 1.5rem;
            background: transparent;
            color: rgba(var(--color-secondary-rgb), 0.7);
            border: none;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: color 0.3s;
            text-align: center;
        }
        .om-secondary-button:hover {
            color: var(--color-primary);
        }   

    </style>
</head>
<body>
    <div class="gradient-bg"></div>

    

    <section class="hero">
        <div class="hero-content">
           
            <h1 data-placeholder="heroTitle"></h1>
            <p data-placeholder="heroSubtitle"></p>
            <div class="hero-buttons">
                <a href="#" class="btn btn-primary">
                    <span>Kipr√≥b√°lom ingyen</span>
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                    </svg>
                </a>
                <a href="#" class="btn btn-ghost" id="demoButton" data-placeholder="heroDemoButton"></a>
            </div>
        </div>
    </section>

    <section class="logo-cloud-section">
        <div class="container">
            <h2 class="logo-cloud-header">T√∂bb mint 30.000 webshop b√≠zik az OptiMonkban, k√∂zt√ºk:</h2>
            <div class="logo-cloud-container">
                <img src="https://optimonk.hu/wp-content/uploads/fooldal_hero_logos_avon_3.svg" alt="Partner Log√≥">
                <img src="https://optimonk.hu/wp-content/uploads/fooldal_hero_logos_biotech_3.svg" alt="Partner Log√≥">
                <img src="https://optimonk.hu/wp-content/uploads/image-3-3.png" alt="Partner Log√≥">
                <img src="https://optimonk.hu/wp-content/uploads/diego_logo_7.svg" alt="Partner Log√≥">
                <img src="https://optimonk.hu/wp-content/uploads/fooldal_hero_logos_yettel_3.svg" alt="Partner Log√≥">
            </div>
        </div>
    </section>
    
    <section>
        <div class="container">
            <div class="section-header scroll-reveal">
                <span class="section-label" data-placeholder="problemsLabel"></span>
                <h2 class="section-title" data-placeholder="problemsTitle"></h2>
            </div>
            <div class="problems-grid">
                <div class="glass-card problem-card scroll-reveal" data-modal-target="problem1-modal">
                    <div class="icon-wrapper">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                    </div>
                    <h3 data-placeholder="problem1Title"></h3>
                    <p data-placeholder="problem1Text"></p>
                </div>
                <div class="glass-card problem-card scroll-reveal" data-modal-target="problem2-modal">
                    <div class="icon-wrapper">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                        </svg>
                    </div>
                    <h3 data-placeholder="problem2Title"></h3>
                    <p data-placeholder="problem2Text"></p>
                </div>
                <div class="glass-card problem-card scroll-reveal" data-modal-target="problem3-modal">
                    <div class="icon-wrapper">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 data-placeholder="problem3Title"></h3>
                    <p data-placeholder="problem3Text"></p>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <div class="section-header scroll-reveal">
                <span class="section-label">Megold√°sok</span>
                <h2 class="section-title" data-placeholder="solutionsTitle"></h2>
                <p class="section-description" data-placeholder="solutionsSubtitle"></p>
            </div>
            <div class="solutions-grid">
                <div class="glass-card solution-card scroll-reveal" data-popup-target="1">
                    <div class="icon-wrapper">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <h3 data-placeholder="solution1Title"></h3>
                    <p data-placeholder="solution1Text"></p>
                </div>
                <div class="glass-card solution-card scroll-reveal" data-popup-target="2">
                    <div class="icon-wrapper">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                    </div>
                    <h3 data-placeholder="solution2Title"></h3>
                    <p data-placeholder="solution2Text"></p>
                </div>
                <div class="glass-card solution-card scroll-reveal" data-popup-target="3">
                    <div class="icon-wrapper">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 data-placeholder="solution3Title"></h3>
                    <p data-placeholder="solution3Text"></p>
                </div>
                <div class="glass-card solution-card scroll-reveal" data-popup-target="4">
                    <div class="icon-wrapper">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                    </div>
                    <h3 data-placeholder="solution4Title"></h3>
                    <p data-placeholder="solution4Text"></p>
                </div>
                <div class="glass-card solution-card scroll-reveal" data-popup-target="5">
                    <div class="icon-wrapper">
                        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
                        </svg>
                    </div>
                    <h3 data-placeholder="solution5Title"></h3>
                    <p data-placeholder="solution5Text"></p>
                </div>
                <div class="glass-card solution-card scroll-reveal" data-popup-target="6">
                    <div class="icon-wrapper">
                        <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>
                    </div>
                    <h3 data-placeholder="solution6Title"></h3>
                    <p data-placeholder="solution6Text"></p>
                </div>
            </div> 
        </div>
    </section>
    
    <section>
        <div class="container">
            <div class="section-header scroll-reveal">
                <span class="section-label">A Folyamat</span>
                <h2 class="section-title">Kezdd el 3 egyszer≈± l√©p√©sben</h2>
            </div>
            <div class="how-it-works-grid">
                <div class="glass-card step-card scroll-reveal">
                    <div class="step-number">1.</div>
                    <h3>V√°lassz egy sablont</h3>
                    <p>T√∂bb sz√°z, ipar√°g-specifikus √©s bizony√≠tottan m≈±k√∂d≈ë sablon k√∂z√ºl v√°laszthatsz, hogy ne a null√°r√≥l kelljen kezdened.</p>
                </div>
                <div class="glass-card step-card scroll-reveal">
                    <div class="step-number">2.</div>
                    <h3>Szem√©lyre szab√°s</h3>
                    <p>√Åll√≠tsd be a c√©lz√°si szab√°lyokat (pl. exit-intent, kos√°r√©rt√©k, f√∂ldrajzi hely) percek alatt a drag-and-drop szerkeszt≈ënkkel.</p>
                </div>
                <div class="glass-card step-card scroll-reveal">
                    <div class="step-number">3.</div>
                    <h3>Integr√°ci√≥ √©s m√©r√©s</h3>
                    <p data-placeholder="step3Text"></p>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <div class="section-header scroll-reveal">
                <span class="section-label">Ezt mondt√°k r√≥lunk</span>
                <h2 class="section-title">Val√≥di eredm√©nyek, val√≥di partnerekt≈ël</h2>
            </div>
            <div class="testimonial-grid">
                <div class="glass-card testimonial-card scroll-reveal">
                    <p class="testimonial-text">"Az OptiMonk bevezet√©se √≥ta 22%-kal cs√∂kkent a kos√°relhagy√°sunk. Az exit-intent kamp√°nyok val√≥s√°ggal megmentik az elveszettnek hitt rendel√©seket."</p>
                    <div class="testimonial-author-wrapper">
                        <img src="https://thispersondoesnotexist.com/" alt="√úgyf√©l fot√≥">
                        <cite>Kov√°cs Anna <span>Marketing Vezet≈ë, Webshop.hu</span></cite>
                    </div>
                </div>
                <div class="glass-card testimonial-card scroll-reveal">
                    <p class="testimonial-text">"Egy h√≥nap alatt t√∂bb feliratkoz√≥t gy≈±jt√∂tt√ºnk, mint el≈ëtte f√©l √©v alatt. Az AI-alap√∫ term√©kaj√°nl√≥ popupok pedig 15%-kal n√∂velt√©k az √°tlagos kos√°r√©rt√©ket."</p>
                    <div class="testimonial-author-wrapper">
                        <img src="https://thispersondoesnotexist.com/" alt="√úgyf√©l fot√≥">
                        <cite>Nagy G√°bor <span>E-commerce Manager, DivatBolt</span></cite>
                    </div>
                </div>
                <div class="glass-card testimonial-card scroll-reveal">
                    <p class="testimonial-text">"El≈ësz√∂r f√©lt√ºnk, hogy a popupok zavarni fogj√°k a l√°togat√≥kat, de az ellenkez≈ëje t√∂rt√©nt. A c√©lzott, relev√°ns √ºzenetekkel javult a felhaszn√°l√≥i √©lm√©ny."</p>
                    <div class="testimonial-author-wrapper">
                        <img src="https://thispersondoesnotexist.com/" alt="√úgyf√©l fot√≥">
                        <cite>T√≥th √âva <span>Tulajdonos, Kieg√©sz√≠t≈ëKuck√≥</span></cite>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <div class="section-header scroll-reveal">
                <span class="section-label">Eredm√©nyek</span>
                <h2 class="section-title">Bizony√≠tott n√∂veked√©s</h2>
            </div>
            <div class="stats-grid">
                <div class="glass-card stat-card scroll-reveal">
                    <div class="stat-number" data-placeholder="stat1Number"></div>
                    <div class="stat-label" data-placeholder="stat1Label"></div>
                </div>
                <div class="glass-card stat-card scroll-reveal">
                    <div class="stat-number">12%</div>
                    <div class="stat-label">√Åtlagos konverzi√≥n√∂veked√©s</div>
                </div>
                <div class="glass-card stat-card scroll-reveal">
                    <div class="stat-number">+40%</div>
                    <div class="stat-label">T√∂bb visszat√©r≈ë v√°s√°rl√≥</div>
                </div>
            </div>
        </div>
    </section>

    <section class="cta-section">
        <div class="cta-content scroll-reveal">
            <h2 data-placeholder="ctaTitle"></h2>
            <p data-placeholder="ctaSubtitle"></p>
            <a href="#" class="btn btn-primary">Pr√≥b√°ld ki ingyen</a>
        </div>
    </section>

    <div class="om-campaign" id="popup1">
        <div class="om-overlay"></div>
        <div class="om-popup">
            <div class="om-close" onclick="closeAllPopups()">&times;</div>
            <div class="om-popup-inner">
                <div class="om-left">
                    <div class="om-brand" data-placeholder="brandLogoHTML"></div>
                    <div class="om-title" data-placeholder="popup1Title"></div>
                    <div class="om-text" data-placeholder="popup1Text"></div>
                    <input type="email" class="om-input" placeholder="Add meg az e-mail c√≠med">
                    <button class="om-button" data-placeholder="popup1Button"></button>
                </div>
                <div class="om-right">
                    <div class="om-image-panner" id="panner_1"> 
                        <img data-placeholder="popup1Image" id="popupImage_1" src="..." alt="Popup k√©p" class="om-product-img">
                    </div>
                    <div class="om-image-controls">
                        <button class="om-image-btn om-toggle-fit" data-popup-id="1" title="V√°lt√°s 'Kit√∂lt√©s'/'Teljes k√©p' k√∂z√∂tt">‚õ∂</button>
                        <button class="om-image-btn om-cycle-pos" data-popup-id="1" title="K√©p poz√≠ci√≥j√°nak v√°lt√°sa">‚ú•</button>
                        <button class="om-image-btn om-image-swap-btn" data-popup-id="1" title="K√©p cser√©je">‚ü≥</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="om-campaign" id="popup2">
        <div class="om-overlay"></div>
        <div class="om-popup">
            <div class="om-close" onclick="closeAllPopups()">&times;</div>
            <div class="om-popup-inner">
                <div class="om-left">
                    <div class="om-brand" data-placeholder="brandLogoHTML"></div>
                    <div class="om-title" data-placeholder="popup2Title"></div>
                    <div class="om-text" data-placeholder="popup2Text"></div>
                    <div class="om-products" data-placeholder="popup2Products"></div>
                    <button class="om-button" data-placeholder="popup2Button"></button>
                </div>
                <div class="om-right">
                    <div class="om-image-panner" id="panner_2">
                        <img data-placeholder="popup2Image" id="popupImage_2" src="..." alt="Popup k√©p" class="om-product-img">
                    </div>
                    <div class="om-image-controls">
                        <button class="om-image-btn om-toggle-fit" data-popup-id="2" title="V√°lt√°s 'Kit√∂lt√©s'/'Teljes k√©p' k√∂z√∂tt">‚õ∂</button>
                        <button class="om-image-btn om-cycle-pos" data-popup-id="2" title="K√©p poz√≠ci√≥j√°nak v√°lt√°sa">‚ú•</button>
                        <button class="om-image-btn om-image-swap-btn" data-popup-id="2" title="K√©p cser√©je">‚ü≥</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="om-campaign" id="popup3">
        <div class="om-overlay"></div>
        <div class="om-popup">
            <div class="om-close" onclick="closeAllPopups()">&times;</div>
            <div class="om-popup-inner">
                <div class="om-left">
                    <div class="om-brand" data-placeholder="brandLogoHTML"></div>
                    <div class="om-title" data-placeholder="popup3Title"></div>
                    <div class="om-subtitle" data-placeholder="popup3Subtitle"></div>
                    <div class="om-products" data-placeholder="popup3Products"></div>
                    <button class="om-button" data-placeholder="popup3Button"></button>
                </div>
                <div class="om-right">
                    <div class="om-image-panner" id="panner_3">
                        <img data-placeholder="popup3Image" id="popupImage_3" src="..." alt="Popup k√©p" class="om-product-img">
                    </div>
                    <div class="om-image-controls">
                        <button class="om-image-btn om-toggle-fit" data-popup-id="3" title="V√°lt√°s 'Kit√∂lt√©s'/'Teljes k√©p' k√∂z√∂tt">‚õ∂</button>
                        <button class="om-image-btn om-cycle-pos" data-popup-id="3" title="K√©p poz√≠ci√≥j√°nak v√°lt√°sa">‚ú•</button>
                        <button class="om-image-btn om-image-swap-btn" data-popup-id="3" title="K√©p cser√©je">‚ü≥</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="om-campaign" id="popup4">
        <div class="om-overlay"></div>
        <div class="om-popup" style="max-width: 450px;"> <div class="om-close" onclick="closeAllPopups()">&times;</div>
            <div class="om-popup-inner-single"> <div class="om-left">
                    <div class="om-brand" data-placeholder="brandLogoHTML"></div>
                    <div class="om-title" data-placeholder="popup4Title"></div>
                    <div class="om-text" data-placeholder="popup4Text"></div>
                    <button class="om-button" data-placeholder="popup4Button"></button>
                </div>
            </div>
        </div>
    </div>

<div class="om-campaign" id="popup5">
        <div class="om-overlay"></div>
        <div class="om-popup om-spin-wheel-popup"> 
            <div class="om-close" onclick="closeAllPopups()">&times;</div>
            <div class="om-popup-inner om-spin-wheel-inner"> 
                
                <div class="om-spin-wheel-left">
                    <div class="css-wheel-container">
                        <div class="wheel-pointer"></div>
                        <div class="css-wheel"></div>
                        <div class="wheel-inner-circle"></div>
                    </div>
                </div>
                
                <div class="om-spin-wheel-right">
                    <div class="om-brand" data-placeholder="brandLogoHTML"></div>
                    <div class="om-title" data-placeholder="popup5Title"></div>
                    <div class="om-text" data-placeholder="popup5Text"></div>
                    <input type="email" class="om-input om-spin-wheel-input" placeholder="Add meg az e-mail c√≠med">
                    <button class="om-button om-spin-wheel-button" data-placeholder="popup5Button"></button>
                    <button class="om-secondary-button" onclick="closeAllPopups()">Nem, ink√°bb teljes √°rat fizetek</button> 
                </div>

            </div>
        </div>
    </div>

    <div class="om-campaign" id="popup6">
        <div class="om-overlay"></div>
        <div class="om-popup" style="max-width: 450px;">
            <div class="om-close" onclick="closeAllPopups()">&times;</div>
            <div class="om-popup-inner-single">
                <div class="om-left">
                    <div class="om-brand" data-placeholder="brandLogoHTML"></div>
                    <div class="om-title" data-placeholder="popup6Title"></div>
                    <div class="om-timer" data-placeholder="popup6Urgency">14:59</div>
                    <div class="om-text" data-placeholder="popup6Text"></div>
                    <button class="om-button" data-placeholder="popup6Button"></button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="om-modal" id="problem1-modal">
        <div class="om-modal-overlay"></div>
        <div class="om-modal-content">
            <div class="om-modal-close">&times;</div>
            <div class="om-modal-icon">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                </svg>
            </div>
            <h2 data-placeholder="problem1Title"></h2>
            <div class="om-modal-body" data-placeholder="problem1ModalDesc"></div>
        </div>
    </div>
    <div class="om-modal" id="problem2-modal">
        <div class="om-modal-overlay"></div>
        <div class="om-modal-content">
            <div class="om-modal-close">&times;</div>
            <div class="om-modal-icon">
                 <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                </svg>
            </div>
            <h2 data-placeholder="problem2Title"></h2>
            <div class="om-modal-body" data-placeholder="problem2ModalDesc"></div>
        </div>
    </div>
    <div class="om-modal" id="problem3-modal">
        <div class="om-modal-overlay"></div>
        <div class="om-modal-content">
            <div class="om-modal-close">&times;</div>
            <div class="om-modal-icon">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
            </div>
            <h2 data-placeholder="problem3Title"></h2>
            <div class="om-modal-body" data-placeholder="problem3ModalDesc"></div>
        </div>
    </div>
    <div class="om-nav-btn om-nav-prev" id="prevBtn">
        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
    </div>
    <div class="om-nav-btn om-nav-next" id="nextBtn">
        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
    </div>


<script>
    // =================================================================
    // === 1. GLOB√ÅLIS V√ÅLTOZ√ìK √âS ADATOK ===
    // =================================================================
    
    // IDE ILLESZD BE AZ N8N KIMENET√âT
    const n8nData = 
  {
    "Company": "Inkness",
    "Industry": "sz√©ps√©g √©s kozmetikumok (smink, b≈ër√°pol√°s, haj√°pol√°s)",
    "ConversionRate": "4.55%",
    "Platform": "UNAS",
    "TargetFeature1": "Professzion√°lis tetov√°l√≥ kell√©kek √©s fest√©kek",
    "TargetFeature2": "Tetov√°l√≥m≈±v√©szek √©s tetov√°l√≥ st√∫di√≥k",
    "TargetFeature3": "tetov√°l√≥",
    "mainBrandColor": "#2C3E50",
    "keyTrend": "tetov√°l√≥m≈±v√©szet professzionaliz√°l√≥d√°sa",
    "keyProducts": [
      "Eternal Ink fest√©kek",
      "Mast tetov√°l√≥ g√©pek",
      "Elite t≈±modulok"
    ],
    "socialProof": "4.9401 Trustindex √©rt√©kel√©s",
    "scrapedLogoURL": "",
    "scrapedProductURL": "",
    "cleanImageUrls": [
      "",
      "https://inkness.eu/!common_design/custom/inknessteszt.unas.hu/element/layout_hu_banner_start_big-1920_2_default.webp?time=1761123642",
      "https://inkness.eu/!common_design/custom/inknessteszt.unas.hu/element/layout_hu_banner_start_big-1920_3_default.webp?time=1761123642",
      "https://inkness.eu/!common_design/custom/inknessteszt.unas.hu/element/layout_hu_banner_start_big-1920_4_default.webp?time=1761123642",
      "https://inkness.eu/!common_design/custom/inknessteszt.unas.hu/element/layout_hu_banner_start_big-1920_5_default.webp?time=1761123642",
      "https://inkness.eu/!common_design/custom/inknessteszt.unas.hu/element/layout_hu_banner_start_big-1920_6_default.webp?time=1761123642",
      "https://inkness.eu/!common_design/custom/inknessteszt.unas.hu/element/layout_hu_banner_start_big-1920_7_default.webp?time=1761123642",
      "https://inkness.eu/!common_design/custom/inknessteszt.unas.hu/element/layout_hu_start_banner_1-950_1_default.webp?time=1745838470",
      "https://inkness.eu/!common_design/custom/inknessteszt.unas.hu/element/layout_hu_start_banner_1-950_2_default.webp?time=1745838470"
    ],
    "brandLogoHTML": "<img src=\"https://inkness.eu/!common_design/custom/inknessteszt.unas.hu/element/layout_hu_header_logo-260x60_1_default.png?time=1745836947\" alt=\"Inkness logo\" style=\"max-height: 60px;\">",
    "pageTitle": "OptiMonk x Inkness | Szem√©lyre szabott strat√©gia",
    "analysisTitle": "Hogyan n√∂velheti az Inkness a tetov√°l√≥ k√∂z√∂ss√©g elk√∂telezetts√©g√©t?",
    "analysisText": "Az Inkness 4.55%-os ipar√°gi √°tlaghoz k√©pest kiemelked≈ë poz√≠ci√≥ban van a tetov√°l√≥ kell√©kek piac√°n. <ul><li>A webshop er≈ëss√©gei k√∂z√© tartozik a sz√©les term√©kv√°laszt√©k professzion√°lis m√°rk√°kkal (Eternal Ink, Mast, Elite), valamint a 4.9401-es Trustindex √©rt√©kel√©s, ami er≈ës bizalmat √©p√≠t</li><li>A tetov√°l√≥m≈±v√©szekkel val√≥ egy√ºttm≈±k√∂d√©s √©s a magyar nyelv≈± tartalom lok√°lis el≈ënyt biztos√≠t</li><li>Kiakn√°zatlan lehet≈ës√©gek: a tetov√°l√≥ k√∂z√∂ss√©g √©p√≠t√©se, szem√©lyre szabott aj√°nlatok a k√ºl√∂nb√∂z≈ë szakmai szinteknek, √©s a tetov√°l√°s ut√≥√°pol√°si term√©kek n√©pszer≈±s√≠t√©se a v√©gfelhaszn√°l√≥k k√∂r√©ben</li></ul>",
    "heroBadge": "Tetov√°l√≥ szakembereknek szabott strat√©gia",
    "heroTitle": "Inkness x OptiMonk",
    "heroSubtitle": "N√∂veld a professzion√°lis tetov√°l√≥ kell√©kek elad√°sait √©s √©p√≠tsd a tetov√°l√≥m≈±v√©sz k√∂z√∂ss√©get szem√©lyre szabott popup kamp√°nyokkal.",
    "heroDemoButton": "N√©zd meg az Inkness-re szabott dem√≥t",
    "problemsLabel": "Tetov√°l√≥ webshop kih√≠v√°sok",
    "problemsTitle": "Ismer≈ësek ezek a kih√≠v√°sok a tetov√°l√≥ kell√©kek √©rt√©kes√≠t√©s√©ben?",
    "problem1Title": "A l√°togat√≥k b√∂ng√©sznek, de bizonytalan a professzion√°lis min≈ës√©g",
    "problem1Text": "A tetov√°l√≥m≈±v√©szek √≥vatosak az √∫j m√°rk√°kkal, √©s gyakran elhagyj√°k az oldalt an√©lk√ºl, hogy meggy≈ëz≈ëdn√©nek a term√©kek min≈ës√©g√©r≈ël.",
    "problem2Title": "Kos√°relhagy√°s a dr√°ga tetov√°l√≥ g√©pek √©s fest√©kek miatt",
    "problem2Text": "A professzion√°lis tetov√°l√≥ eszk√∂z√∂k magas √°ra miatt sokan t√©tov√°znak a v√°s√°rl√°ssal, √©s elhagyj√°k a kosarat.",
    "problem3Title": "Neh√©z el√©rni √©s megtartani a tetov√°l√≥m≈±v√©sz k√∂z√∂ss√©get",
    "problem3Text": "A szakmai kapcsolatok √©p√≠t√©se √©s a visszat√©r≈ë v√°s√°rl√≥k megszerz√©se kih√≠v√°st jelent ebben a speci√°lis ipar√°gban.",
    "problem1ModalDesc": "<h3>A probl√©ma gy√∂kere</h3>A tetov√°l√≥m≈±v√©szek sz√°m√°ra kritikus a min≈ës√©g, hiszen a munk√°juk √©s h√≠rnev√ºk m√∫lik rajta. Amikor bizonytalan a term√©k min≈ës√©ge, ink√°bb m√°shol v√°s√°rolnak. <h3>Az OptiMonk megold√°sa</h3>Exit-intent popupokkal min≈ës√©gi garanci√°kat, szakmai aj√°nl√°sokat √©s els≈ë v√°s√°rl√°si kedvezm√©nyeket k√≠n√°lhatsz, meggy≈ëzve ≈ëket a marad√°sr√≥l.",
    "problem2ModalDesc": "<h3>A probl√©ma gy√∂kere</h3>A professzion√°lis tetov√°l√≥ eszk√∂z√∂k jelent≈ës befektet√©st jelentenek, ez√©rt a v√°s√°rl√≥k gyakran halogatj√°k a d√∂nt√©st √©s elhagyj√°k a kosarat. <h3>Az OptiMonk megold√°sa</h3>Kos√°relhagy√°si kamp√°nyokkal r√©szletfizet√©si lehet≈ës√©geket, limit√°lt idej≈± akci√≥kat vagy ingyenes sz√°ll√≠t√°st k√≠n√°lhatsz a dr√°g√°bb t√©telekhez.",
    "problem3ModalDesc": "<h3>A probl√©ma gy√∂kere</h3>A tetov√°l√≥m≈±v√©szek sz≈±k, de loj√°lis k√∂z√∂ss√©get alkotnak. Ha nincs rendszeres kapcsolattart√°s, k√∂nnyen elvesz√≠theted ≈ëket a versenyt√°rsakhoz. <h3>Az OptiMonk megold√°sa</h3>Lead generation popupokkal VIP klubot √©p√≠thetsz, ahol exkluz√≠v aj√°nlatokat, √∫j term√©k el≈ëzeteseket √©s szakmai tippeket osztasz meg.",
    "solutionsTitle": "Hogyan seg√≠t az OptiMonk az Inkness-nek",
    "solutionsSubtitle": "Szem√©lyre szabott megold√°sok a tetov√°l√≥ kell√©kek √©rt√©kes√≠t√©s√©nek n√∂vel√©s√©re √©s a szakmai k√∂z√∂ss√©g √©p√≠t√©s√©re.",
    "solution1Title": "Exit-intent a bizonytalanoknak",
    "solution1Text": "Min≈ës√©gi garanci√°k √©s szakmai aj√°nl√°sok megjelen√≠t√©se, amikor a l√°togat√≥ el akarja hagyni az oldalt.",
    "solution2Title": "Azonnali AOV n√∂vel√©s",
    "solution2Text": "Kapcsol√≥d√≥ term√©kek aj√°nl√°sa, p√©ld√°ul t≈±modulok a tetov√°l√≥ g√©pekhez vagy √°pol√≥ term√©kek a fest√©kekhez.",
    "solution3Title": "K√∂z√∂ss√©g√©p√≠t√©s (Lead Gen)",
    "solution3Text": "VIP tetov√°l√≥m≈±v√©sz klub l√©trehoz√°sa exkluz√≠v aj√°nlatokkal √©s √∫j term√©k el≈ëzetesekkel.",
    "solution4Title": "C√©lz√°s szakmai szint szerint",
    "solution4Text": "K√ºl√∂nb√∂z≈ë aj√°nlatok kezd≈ë √©s profi tetov√°l√≥m≈±v√©szeknek, valamint tetov√°lt √ºgyfeleknek.",
    "solution5Title": "Gamifik√°lt √âlm√©ny",
    "solution5Text": "Szerencseker√©k kamp√°nyok szakmai v√°s√°rokon vagy √∫j term√©k bevezet√©sekor magasabb r√©szv√©teli ar√°ny√©rt.",
    "solution6Title": "S√ºrg≈ëss√©g Kelt√©se",
    "solution6Text": "Visszasz√°ml√°l√≥k limit√°lt k√©szlet≈± pr√©mium term√©kekhez vagy id≈ëkorl√°tozott akci√≥khoz.",
    "step3Text": "Az OptiMonk z√∂kken≈ëmentesen integr√°lhat√≥ az Inkness UNAS rendszer√©vel, egyszer≈± be√°ll√≠t√°ssal.",
    "stat1Number": "4.55",
    "stat1Label": "Ipar√°gi √°tlagos konverzi√≥s r√°ta a sz√©ps√©g √©s kozmetikumok szektorban",
    "ctaTitle": "K√©szen √°llsz n√∂velni az Inkness bev√©tel√©t?",
    "ctaSubtitle": "Kezdd el az ingyenes pr√≥baid≈ëszakot √©s tapasztald meg, hogyan n√∂velheted a tetov√°l√≥ kell√©kek elad√°sait szem√©lyre szabott popup kamp√°nyokkal.",
    "popup1Title": "V√°rj! 15% kedvezm√©ny az els≈ë professzion√°lis v√°s√°rl√°sodra!",
    "popup1Text": "Szerezd meg az exkluz√≠v tetov√°l√≥m≈±v√©sz kedvezm√©nyt √©s fedezd fel a pr√©mium min≈ës√©g≈± term√©keinket. Add meg az e-mail c√≠med a kupon√©rt!",
    "popup1Button": "K√©rem a kupont!",
    "popup1Image": "https://images.unsplash.com/photo-1565058379802-bbe93b2f703a?w=400&h=300&fit=crop",
    "popup2Title": "Szuper v√°laszt√°s! M√©g valami kell?",
    "popup2Text": "Az Eternal Ink fest√©khez aj√°nljuk az Elite t≈±modulokat a t√∂k√©letes eredm√©ny√©rt. Professzion√°lis kombin√°ci√≥ kedvezm√©nyes √°ron!",
    "popup2Products": "<div class=\"om-product\">Elite t≈±modulok - 20% kedvezm√©ny</div><div class=\"om-product\">Tetov√°l√≥ √°pol√≥ csomag - Ingyenes sz√°ll√≠t√°s</div>",
    "popup2Button": "Hozz√°adom a kos√°rhoz",
    "popup2Image": "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=400&h=300&fit=crop",
    "popup3Title": "Csatlakozz az Inkness VIP Tetov√°l√≥m≈±v√©sz Klubj√°hoz!",
    "popup3Subtitle": "Legy√©l az els≈ë, aki √©rtes√ºl az √∫j term√©kekr≈ël √©s exkluz√≠v aj√°nlatokr√≥l a tetov√°l√≥ k√∂z√∂ss√©gben.",
    "popup3Products": "<div class=\"om-product\">Korai hozz√°f√©r√©s √∫j term√©kekhez</div><div class=\"om-product\">Exkluz√≠v tetov√°l√≥m≈±v√©sz kedvezm√©nyek</div><div class=\"om-product\">Szakmai tippek √©s technik√°k</div>",
    "popup3Button": "Csatlakozom a klubhoz",
    "popup3Image": "https://images.unsplash.com/photo-1590736969955-71cc94901144?w=400&h=300&fit=crop",
    "popup4Title": "L√°tjuk, hogy a professzion√°lis tetov√°l√≥ g√©pek √©rdekelnek...",
    "popup4Text": "Speci√°lis aj√°nlatunk tapasztalt tetov√°l√≥m≈±v√©szeknek: Mast g√©pek 10% kedvezm√©nnyel √©s ingyenes kieg√©sz√≠t≈ë csomaggal. Csak ma!",
    "popup4Button": "Megn√©zem az aj√°nlatot",
    "popup4Image": "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=400&h=300&fit=crop",
    "popup5Title": "P√∂rgess √©s nyerj tetov√°l√≥ kedvezm√©nyt!",
    "popup5Text": "Add meg az e-mail c√≠med, √©s p√∂rgess egyet az exkluz√≠v Inkness kedvezm√©nyek√©rt! Professzion√°lis term√©kek, amat≈ër √°rakon!",
    "popup5Button": "P√∂rgetek!",
    "popup5NoThanks": "Nem, ink√°bb teljes √°ron v√°s√°rolok",
    "popup5Image": "https://images.unsplash.com/photo-1596838132731-3301c3fd4317?w=400&h=300&fit=crop",
    "popup6Title": "Siess, az aj√°nlatod lej√°r!",
    "popup6Urgency": "<div class=\"om-timer\">14:59</div>",
    "popup6Text": "A tetov√°l√≥ g√©p kedvezm√©nyed hamarosan lej√°r! Ne hagyd ki ezt az egyed√ºl√°ll√≥ lehet≈ës√©get a professzion√°lis eszk√∂z√∂k beszerz√©s√©re.",
    "popup6Button": "Azonnal bev√°ltom!",
    "popup6Image": "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=400&h=300&fit=crop"
  };

    let currentPopupIndex = 1;
    const totalPopups = 6;
    let countdownInterval = null;
    
    let navButtons = null;
    let reveals = null;

    // K√©pkezel≈ë √°llapotok
    let imageIndexes = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0 };
    let imageFitStates = { 1: 'cover', 2: 'cover', 3: 'cover', 4: 'cover', 5: 'cover', 6: 'cover' };
    let imagePosStates = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0 };
    // JAV√çTVA: Ez a 3 poz√≠ci√≥ kell a gombhoz
    const imagePositions = ['center', 'left', 'right']; 
    let isDragging = false;
    let activePanner = null; 
    let startX, startY;
    let imagePositionsPx = {
        1: { x: 0, y: 0 },
        2: { x: 0, y: 0 },
        3: { x: 0, y: 0 },
        4: { x: 0, y: 0 },
        5: { x: 0, y: 0 },
        6: { x: 0, y: 0 }
    };

    // =================================================================
    // === 2. F≈ê IND√çT√ì F√úGGV√âNY (DOMContentLoaded) ===
    // =================================================================

    document.addEventListener("DOMContentLoaded", () => {
        
        navButtons = document.querySelectorAll('.om-nav-btn');
        reveals = document.querySelectorAll(".scroll-reveal");

        if (typeof n8nData === 'undefined' || !n8nData.Company) {
            console.error("n8nData nem tal√°lhat√≥ vagy √ºres!");
            document.body.innerHTML = "<h1 style='font-family: sans-serif; text-align: center; margin-top: 50px; color: red;'>Hiba: A szem√©lyre szabott adatok bet√∂lt√©se sikertelen.</h1><p style='font-family: sans-serif; text-align: center;'>T√∂ltsd ki az n8nData objektumot a script tag-ben.</p>";
            return;
        }

        injectorFunction(n8nData);
        setupEventListeners();
        revealOnScroll();
    });

    // =================================================================
    // === 3. SEG√âDF√úGGV√âNYEK ===
    // =================================================================

    // --- TARTALOM BEILLESZT≈ê ---
    function injectorFunction(data) {
        document.querySelectorAll('[data-placeholder]').forEach(el => {
            const key = el.getAttribute('data-placeholder');
            if (data[key] !== undefined && data[key] !== null) {
                if (el.tagName === 'IMG') { 
                    el.src = data[key];
                } else { 
                    if (key.endsWith('Desc') || key.endsWith('analysisText') || key.endsWith('Products') || key.endsWith('Urgency')) {
                        el.innerHTML = formatGeneratedHtml(data[key]);
                    } else {
                        el.innerHTML = data[key];
                    }
                }
            }
        });
        
        const titleEl = document.querySelector('title[data-placeholder="pageTitle"]');
        if (titleEl && data["pageTitle"]) {
            document.title = data["pageTitle"];
        }

        if (data.mainBrandColor && /^#([0-9A-F]{3}){1,2}$/i.test(data.mainBrandColor)) {
            let hex = data.mainBrandColor.substring(1); 
            if (hex.length === 3) {
                hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
            }
            const finalHex = '#' + hex; 
            document.documentElement.style.setProperty('--color-primary', finalHex);
            
            const r = parseInt(hex.substring(0, 2), 16);
            const g = parseInt(hex.substring(2, 4), 16);
            const b = parseInt(hex.substring(4, 6), 16);
            document.documentElement.style.setProperty('--color-primary-rgb', `${r}, ${g}, ${b}`);
        } else {
            if (data.mainBrandColor && data.mainBrandColor !== "") {
                console.warn(`A 'mainBrandColor' (${data.mainBrandColor}) form√°tuma √©rv√©nytelen. Az alap√©rtelmezett sz√≠n lesz haszn√°lva.`);
            } else {
                console.warn("A 'mainBrandColor' hi√°nyzik vagy √ºres. Az alap√©rtelmezett sz√≠n lesz haszn√°lva.");
            }
        }
    }

    // --- FORM√ÅZ√ì ---
    function formatGeneratedHtml(text) {
        if (!text) return '';
        let html = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
        html = html.replace(/\n/g, '<br>');
        return html;
    }

    // --- ESEM√âNYKEZEL≈êK BE√ÅLL√çT√ÅSA ---
    function setupEventListeners() {
        
        // K√©pcsere (‚ü≥) gomb
        document.querySelectorAll('.om-image-swap-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault(); 
                const popupId = e.target.closest('.om-image-btn').getAttribute('data-popup-id');
                swapPopupImage(popupId);
            });
        });

        // M√©retv√°lt√≥ (‚õ∂) gomb
        document.querySelectorAll('.om-toggle-fit').forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault(); 
                const popupId = e.target.closest('.om-image-btn').getAttribute('data-popup-id');
                toggleImageFit(popupId);
            });
        });

        // üö© JAV√çTVA: Poz√≠ci√≥v√°lt√≥ (‚ú•) gomb
        document.querySelectorAll('.om-cycle-pos').forEach(button => {
            button.addEventListener('click', (e) => { // 'mousedown'-r≈ël 'click'-re
                e.preventDefault(); 
                const popupId = e.target.closest('.om-image-btn').getAttribute('data-popup-id');
                cycleImagePosition(popupId); // 'startDrag'-r≈ël 'cycleImagePosition'-re
            });
        });
        
        // üö© JAV√çTVA: A h√∫z√°st a Panner-re (a k√©p t√°rol√≥j√°ra) k√∂tj√ºk
        document.querySelectorAll('.om-image-panner').forEach(panner => {
            panner.addEventListener('mousedown', (e) => {
                e.preventDefault();
                const popupId = panner.id.split('_')[1];
                startDrag(e, popupId); // A h√∫z√°s innen indul
            });
            
            // Alap√©rtelmezett 'draggable' st√≠lus be√°ll√≠t√°sa
            const popupId = panner.id.split('_')[1];
            if (imageFitStates[popupId] === 'cover') {
                panner.classList.add('is-draggable');
                panner.querySelector('img').classList.add('is-draggable');
            }
        });
        
        // Glob√°lis eg√©r esem√©nyek a h√∫z√°shoz
        document.addEventListener('mousemove', whileDrag);
        document.addEventListener('mouseup', stopDrag);
        document.addEventListener('mouseleave', stopDrag);

        // Probl√©ma Mod√°lok (k√°rty√°kra kattint√°s)
        document.querySelectorAll('.problem-card').forEach(card => {
            card.addEventListener('click', () => {
                const modalId = card.getAttribute('data-modal-target');
                showOmModal(modalId);
            });
        });

        // Megold√°s K√°rty√°k (k√°rty√°kra kattint√°s -> popup dem√≥)
        document.querySelectorAll('.solution-card').forEach(card => {
            card.addEventListener('click', () => {
                const popupId = card.getAttribute('data-popup-target');
                if(popupId) {
                    currentPopupIndex = parseInt(popupId, 10); 
                    hideNavButtons(); 
                    showPopup(currentPopupIndex); 
                }
            });
        });

        // Mod√°l bez√°r√≥ gombok (X √©s overlay)
        document.querySelectorAll('.om-modal-overlay, .om-modal-close').forEach(el => {
            el.addEventListener('click', () => {
                closeOmModals();
            });
        });

         // "N√©zd meg a dem√≥t" gomb
        const demoButton = document.getElementById("demoButton");
        if (demoButton) {
             demoButton.addEventListener("click", (e) => {
                 e.preventDefault();
                 currentPopupIndex = 1;
                 showNavButtons(); 
                 showPopup(1);
             });
        }

         // Popup navig√°ci√≥s gombok (narancss√°rga nyilak)
        document.getElementById('prevBtn').addEventListener('click', () => navigatePopup(-1));
        document.getElementById('nextBtn').addEventListener('click', () => navigatePopup(1));

         // Popup overlay bez√°r√°s
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('om-overlay')) {
                closeAllPopups();
            }
        });

         // Billenty≈±zet (Escape √©s Nyilak)
        document.addEventListener('keydown', (e) => {
            const anyPopupOpen = document.querySelector('.om-campaign.active');
            const anyModalOpen = document.querySelector('.om-modal.active');
            
            if (anyPopupOpen) {
                if (e.key === 'ArrowLeft') navigatePopup(-1);
                if (e.key === 'ArrowRight') navigatePopup(1);
                if (e.key === 'Escape') closeAllPopups();
            }
            if (anyModalOpen) {
                if (e.key === 'Escape') closeOmModals();
            }
        });
        
        // G√∂rget√©s figyel√©se az anim√°ci√≥khoz
        window.addEventListener("scroll", revealOnScroll);
    }

    // =================================================================
    // === MOD√ÅL FUNKCI√ìK (Probl√©ma & Megold√°s) ===
    // =================================================================
    function showOmModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.style.display = 'flex';
            setTimeout(() => modal.classList.add('active'), 10);
            document.body.style.overflow = 'hidden';
        }
    }

    function closeOmModals() {
        document.querySelectorAll('.om-modal.active').forEach(modal => {
            modal.classList.remove('active');
            setTimeout(() => modal.style.display = 'none', 300);
        });
        if (!document.querySelector('.om-campaign.active')) {
            document.body.style.overflow = 'auto';
        }
    }


    // =================================================================
    // === K√âP MANIPUL√ÅL√ì LOGIKA ===
    // =================================================================

    function swapPopupImage(popupId) {
        if (!n8nData || !n8nData.cleanImageUrls || n8nData.cleanImageUrls.length === 0) {
            console.warn("Nincsenek el√©rhet≈ë k√©pek a cser√©hez.");
            return;
        }
        const imageList = n8nData.cleanImageUrls;
        
        imageIndexes[popupId]++;
        if (imageIndexes[popupId] >= imageList.length) {
            imageIndexes[popupId] = 0;
        }

        const newImageUrl = imageList[imageIndexes[popupId]];
        const imageElement = document.getElementById(`popupImage_${popupId}`);
        const panner = document.getElementById(`panner_${popupId}`);
        
        if (imageElement && panner) {
            imageElement.src = newImageUrl;
            panner.style.transform = 'translate(0, 0)'; 
            imagePositionsPx[popupId] = { x: 0, y: 0 };
        } else if (imageElement) {
            imageElement.src = newImageUrl;
        }
    }

    function toggleImageFit(popupId) {
        const imageElement = document.getElementById(`popupImage_${popupId}`);
        const panner = document.getElementById(`panner_${popupId}`);
        if (!imageElement) return;

        const currentState = imageFitStates[popupId];
        const newState = (currentState === 'cover') ? 'contain' : 'cover';
        
        imageElement.style.objectFit = newState;
        imageFitStates[popupId] = newState;

        const posButton = document.querySelector(`.om-cycle-pos[data-popup-id="${popupId}"]`);
        const pannerElement = panner || imageElement; // Ha nincs panner, mag√°t a k√©pet c√©lozzuk

        if (newState === 'contain') {
            imageElement.style.objectPosition = 'center';
            if (panner) panner.style.transform = 'translate(0, 0)';
            imagePositionsPx[popupId] = { x: 0, y: 0 }; 
            imagePosStates[popupId] = 0; 
            if (posButton) posButton.style.opacity = '0.3';
            pannerElement.classList.remove('is-draggable');
            imageElement.classList.remove('is-draggable');
        } else {
             if (panner) {
                const pos = imagePositionsPx[popupId];
                panner.style.transform = `translate(${pos.x}px, ${pos.y}px)`;
            }
            if (posButton) posButton.style.opacity = '1';
            pannerElement.classList.add('is-draggable');
            imageElement.classList.add('is-draggable');
        }
    }

    // A "kattint√°sra l√©ptet" poz√≠ci√≥v√°lt√≥ (a ‚ú• gomb)
    function cycleImagePosition(popupId) {
        const imageElement = document.getElementById(`popupImage_${popupId}`);
        if (!imageElement) return;

        if (imageFitStates[popupId] !== 'cover') {
            alert("A k√©p poz√≠ci√≥j√°nak v√°ltoztat√°sa csak 'Kit√∂lt√©s' (‚õ∂) n√©zetben l√°that√≥. V√°lts n√©zetet, majd pr√≥b√°ld √∫jra.");
            return;
        }
        
        imagePosStates[popupId]++;
        if (imagePosStates[popupId] >= imagePositions.length) {
            imagePosStates[popupId] = 0; 
        }

        const newPosition = imagePositions[imagePosStates[popupId]];
        imageElement.style.objectPosition = newPosition;
    }

    // A "h√∫z√°s" (drag) funkci√≥k
    function startDrag(e, popupId) {
        const panner = document.getElementById(`panner_${popupId}`);
        if (!panner) return;

        if (imageFitStates[popupId] !== 'cover') {
            return;
        }
        
        e.preventDefault(); 
        isDragging = true;
        activePanner = panner; 
        
        activePanner.classList.add('is-dragging');
        activePanner.querySelector('img').classList.add('is-dragging');

        const pos = imagePositionsPx[popupId];
        startX = e.clientX - pos.x;
        startY = e.clientY - pos.y;
    }

    function whileDrag(e) {
        if (!isDragging || !activePanner) return;
        e.preventDefault();
        
        const popupId = activePanner.id.split('_')[1];
        const newX = e.clientX - startX;
        const newY = e.clientY - startY;

        activePanner.style.transform = `translate(${newX}px, ${newY}px)`;
        imagePositionsPx[popupId] = { x: newX, y: newY };
    }

    function stopDrag(e) {
        if (!isDragging || !activePanner) return;
        
        const img = activePanner.querySelector('img');
        
        activePanner.classList.remove('is-dragging');
        if (img) {
            img.classList.remove('is-dragging');
        }
        
        isDragging = false;
        activePanner = null;
    }


    // =================================================================
    // === SZ√ÅML√ÅL√ì √âS SCROLL ANIM√ÅCI√ìK ===
    // =================================================================
    function animateCountUp(el) {
        const targetText = el.getAttribute('data-placeholder') === 'stat1Number' ? n8nData.stat1Number : el.textContent;
        if (!targetText) return;
        const target = parseFloat(targetText.replace(/[^0-9.,]/g, '').replace(',', '.'));
        if (isNaN(target)) return; 
        
        const prefix = targetText.match(/^[^+0-9]*/)?.[0] || ''; 
        const suffix = targetText.match(/[^0-9.,]*$/)?.[0] || ''; 
        const decimals = (target.toString().split('.')[1] || '').length;
        const duration = 1500; 
        let startTimestamp = null;

        function step(timestamp) {
            if (!startTimestamp) startTimestamp = timestamp;
            const progress = Math.min((timestamp - startTimestamp) / duration, 1);
            const currentValue = progress * (2 - progress) * target;
            el.textContent = prefix + currentValue.toFixed(decimals) + suffix;
            if (progress < 1) {
                window.requestAnimationFrame(step);
            } else {
                el.textContent = targetText;
            }
        }
        el.textContent = prefix + (0).toFixed(decimals) + suffix; 
        window.requestAnimationFrame(step);
    }
    
    const revealOnScroll = () => {
        if (!reveals) return;
        for (let el of reveals) {
            const rect = el.getBoundingClientRect();
            if (rect.top < window.innerHeight - 100 && !el.classList.contains('revealed')) {
                el.classList.add("revealed");
                if (el.classList.contains('stat-card') && !el.dataset.animated) {
                    const numberEl = el.querySelector('.stat-number');
                    if (numberEl) {
                        animateCountUp(numberEl);
                        el.dataset.animated = 'true'; 
                    }
                }
            }
        }
    };
    
    // =================================================================
    // === OPTIMONK POPUP KEZEL√âS (TISZT√çTVA) ===
    // =================================================================

    function showNavButtons() {
        if (!navButtons) return;
        navButtons.forEach(btn => {
            btn.style.display = 'flex';
        });
    }
    function hideNavButtons() {
        if (!navButtons) return;
        navButtons.forEach(btn => {
            btn.style.display = 'none';
        });
    }

    function showPopup(index) {
        stopCountdown();

        for (let i = 1; i <= totalPopups; i++) {
            const popup = document.getElementById(`popup${i}`);
            if (popup) {
                popup.classList.remove('active');
                popup.style.display = 'none';
            }
        }
        const activePopup = document.getElementById(`popup${index}`);
        if (activePopup) {
            activePopup.style.display = 'flex';
            setTimeout(() => {
                activePopup.classList.add('active');
            }, 10); 
        }
        
        if (index === 6) {
            const timerDisplay = document.getElementById('popup6Timer');
            if (timerDisplay) {
                startCountdown(14 * 60 + 59, timerDisplay);
            }
        }
        
        if (!document.querySelector('.om-modal.active')) {
            document.body.style.overflow = 'hidden';
        }
    }

    function navigatePopup(direction) {
        stopCountdown();
        
        currentPopupIndex += direction;
        if (currentPopupIndex > totalPopups) {
            currentPopupIndex = 1;
        } else if (currentPopupIndex < 1) {
            currentPopupIndex = totalPopups;
        }
        showPopup(currentPopupIndex);
    }

    function closeAllPopups() {
        stopCountdown();
        for (let i = 1; i <= totalPopups; i++) {
            const popup = document.getElementById(`popup${i}`);
            if (popup) {
                popup.classList.remove('active');
                popup.style.display = 'none';
            }
        }
        hideNavButtons();
        if (!document.querySelector('.om-modal.active')) {
            document.body.style.overflow = 'auto';
        }
    }

    function startCountdown(durationInSeconds, displayElement) {
        clearInterval(countdownInterval);
        let timer = durationInSeconds;
        
        function updateDisplay() {
            const minutes = Math.floor(timer / 60);
            let seconds = timer % 60;
            seconds = seconds < 10 ? "0" + seconds : seconds;
            displayElement.textContent = `${minutes}:${seconds}`;
        }
        
        updateDisplay(); // Azonnali friss√≠t√©s
        timer--;

        countdownInterval = setInterval(() => {
            updateDisplay();
            if (--timer < 0) {
                timer = 0;
                clearInterval(countdownInterval);
                displayElement.textContent = "0:00";
            }
        }, 1000);
    }

    function stopCountdown() {
        clearInterval(countdownInterval);
    }
    
</script>
</body>
</html>


